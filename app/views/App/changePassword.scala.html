@(passwordChangeForm: play.api.data.Form[securesocial.controllers.PasswordChange.ChangeInfo])(implicit request: play.api.mvc.RequestHeader, user: Option[securesocial.core.Identity])
@import securesocial.core.IdentityProvider
@import helper._
    @implicitFieldConstructor = @{
        FieldConstructor(securesocial.views.html.inputFieldConstructor.f)
    }
<div class="container" id="pagina-alterarSenha">
    <div class="row">
        <div id="main" class="span12">
            <div class="login-register">
                <h2>Alterar Senha</h2>
                @request.flash.get("error").map { msg =>
                    <div class="alert alert-error">
                        @msg
                    </div>
                }
                <div class="row">
                    <div class="span8 offset2">

                        <div class="tab-content">
                            <div class="tab-pane active" id="login">
                            @if(request.flash.get("success").isDefined) {
                                <div class="alert alert-info">
                                @request.flash.get("success").get
                                </div>

                                <div class="form-actions">
                                    <a class="btn" href="@securesocial.controllers.ProviderController.toUrl(request.session)">@Messages("securesocial.passwordChange.okButton")</a>
                                </div>
                            } else {
                                <form action="@securesocial.core.providers.utils.RoutesHelper.handlePasswordChange.absoluteURL(IdentityProvider.sslEnabled)(request)" autocomplete= "off" method="POST">
                                    <div class="control-group">
                                        <label class="control-label">
                                            Senha atual
                                        </label>
                                        <div class="controls">
                                        @helper.inputPassword(
                                            passwordChangeForm("currentPassword"),
                                            '_label -> "../../../public"
                                        )
                                        </div>
                                            <!-- /.controls -->
                                    </div>
                                        <!-- /.control-group -->

                                    <div class="control-group">
                                        <label class="control-label">
                                            Nova senha
                                        </label>

                                        <div class="controls">
                                        @helper.inputPassword(
                                            passwordChangeForm("newPassword.password1"),
                                            '_label -> "../../../public"
                                        )
                                        </div>
                                            <!-- /.controls -->
                                    </div>
                                        <!-- /.control-group -->

                                    <div class="control-group">
                                        <label class="control-label">
                                            Confirme a nova senha
                                        </label>

                                        <div class="controls">
                                        @helper.inputPassword(
                                            passwordChangeForm("newPassword.password2"),
                                            '_error -> passwordChangeForm.error("newPassword"),
                                            '_label -> "../../../public"
                                        )
                                        </div>
                                            <!-- /.controls -->
                                    </div>
                                        <!-- /.control-group -->
                                    <div class="form-actions">
                                        <button type="submit" class="btn btn-primary">@Messages("securesocial.passwordChange.changeButton")</button>
                                        <a class="btn" href="@securesocial.controllers.ProviderController.toUrl(request.session)">@Messages("securesocial.signup.cancel")</a>

                                    </div>

                                </form>
                            }
                            </div>
                                <!-- /.tab-pane -->
                        </div>
                            <!-- /.tab-content -->
                        <hr>
                    </div>
                        <!-- /.span4-->

                </div>
                    <!-- /.row -->
            </div>
                <!-- /.login-register -->
        </div>
            <!-- /#main -->
    </div>
        <!-- /.row -->
</div>
    <!-- /.container -->


